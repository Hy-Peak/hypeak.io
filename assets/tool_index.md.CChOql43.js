import{I as n,d as D,a1 as A,z as V,D as c,o as m,c as y,n as B,k as t,w as o,a2 as R,a3 as E,m as O,a as u,b as M,e as F,F as N,p as Z,q as G,_ as $,a4 as q,h as X,j as J,N as Q}from"./chunks/framework.h3NtCkte.js";import{A as W,m as H,C as Y,a as K}from"./chunks/index.ATHT0_30.js";const ee="/hypeak.io/assets/webstorm.oMCHIk8P.png";var te={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"};const ne=te;function P(s){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(l).filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),a.forEach(function(d){oe(s,d,l[d])})}return s}function oe(s,e,l){return e in s?Object.defineProperty(s,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[e]=l,s}var I=function(e,l){var a=P({},e,l.attrs);return n(W,P({},a,{icon:ne}),null)};I.displayName="CaretRightOutlined";I.inheritAttrs=!1;const se=I,b=s=>(Z("data-v-d9be56b3"),s=s(),G(),s),ae=b(()=>t("use",{"xlink:href":"#webstorm"},null,-1)),le=b(()=>t("symbol",{id:"webstorm",fill:"none",viewBox:"0 0 70 70",xmlns:"http://www.w3.org/2000/svg"},[t("defs",null,[t("linearGradient",{id:"webstorm_webstorm_svg__a",gradientUnits:"userSpaceOnUse",x1:"25.068",x2:"43.183",y1:"1.46",y2:"66.675"},[t("stop",{offset:".285","stop-color":"#07C3F2"}),t("stop",{offset:".941","stop-color":"#087CFA"})]),t("linearGradient",{id:"webstorm_webstorm_svg__b",gradientUnits:"userSpaceOnUse",x1:"30.72",x2:"61.365",y1:"9.734",y2:"54.671"},[t("stop",{offset:".14","stop-color":"#FCF84A"}),t("stop",{offset:".366","stop-color":"#07C3F2"})]),t("linearGradient",{id:"webstorm_webstorm_svg__c",gradientUnits:"userSpaceOnUse",x1:"61.082",x2:"65.106",y1:"15.29",y2:"29.544"},[t("stop",{offset:".285","stop-color":"#07C3F2"}),t("stop",{offset:".941","stop-color":"#087CFA"})])]),t("path",{d:"M9.406 63.292 0 7.365 17.427.073l11.156 6.635L38.792 1.24l21.291 8.166L48.125 70 9.406 63.292Z",fill:"url(#webstorm_webstorm_svg__a)"}),t("path",{d:"M70 23.698 60.958 1.385 44.552 0 19.25 24.281l6.854 31.354 12.688 8.896L70 46.011l-7.656-14.292L70 23.698Z",fill:"url(#webstorm_webstorm_svg__b)"}),t("path",{d:"m56 20.344 6.344 11.375L70 23.698 64.385 9.844 56 20.344Z",fill:"url(#webstorm_webstorm_svg__c)"}),t("path",{d:"M56 14H14v42h42V14Z",fill:"#000"}),t("path",{d:"M34.417 48.65h-15.75v2.683h15.75V48.65ZM34.16 19.25l-2.38 9.17-2.66-9.17h-2.66l-2.66 9.17-2.38-9.17h-3.64L22.26 35h2.94l2.59-9.1 2.52 9.1h3.01l4.48-15.75h-3.64ZM38.5 32.76l2.03-2.45c1.4 1.19 2.94 1.89 4.69 1.89 1.4 0 2.31-.56 2.31-1.47v-.07c0-.91-.56-1.33-3.15-2.03-3.15-.84-5.25-1.68-5.25-4.83v-.07c0-2.87 2.31-4.76 5.53-4.76 2.31 0 4.27.7 5.88 2.03l-1.82 2.59c-1.4-.98-2.8-1.54-4.13-1.54s-2.03.63-2.03 1.4v.07c0 1.05.7 1.4 3.43 2.1 3.22.84 5.04 1.96 5.04 4.76v.07c0 3.15-2.38 4.9-5.81 4.9-2.45-.07-4.83-.91-6.72-2.59Z",fill:"#FFF"})],-1)),re=[ae,le],ce=b(()=>t("div",{style:{"min-width":"100px","text-align":"center"}},"--->",-1)),ie=b(()=>t("img",{class:"img",alt:"webstorm",src:ee},null,-1)),de={style:{"min-height":"150px"}},ue={class:"exhibitArea"},pe={class:"exhibitArea"},_e={class:"exhibitArea"},ge=b(()=>t("div",{class:"successTitle"},"转换成功",-1)),me="/hypeak.io/tool/assets/img/",he=D({__name:"hyExportSvg",setup(s){console.log(me);const e=A({current:0,svgDomCode:"",conversion:{height:200,width:200},display:!0,pngUrl:""}),l=[{title:"填写Svg代码"},{title:"设置属性"},{title:"下载"}];V(()=>{e.current===0?e.display=!e.svgDomCode:e.current===1&&(e.display=!e.conversion.height&&!e.conversion.width)});const a=()=>{if(e.current===4){e.current=3;return}e.current--},d=()=>{e.current!==2&&e.current++},S=()=>{e.current=0,e.conversion={height:200,width:200},e.pngUrl="",e.svgDomCode=""},k=()=>{let i;try{i=document.createElementNS("http://www.w3.org/2000/svg","svg"),i.innerHTML=e.svgDomCode.replace(/<svg[^>]*>/,"").replace(/<\/svg>/,"")}catch{H.error("svg代码有误");return}L(i,e.conversion.width,e.conversion.height,r=>{e.pngUrl=r;const _=document.createElement("a");_.href=r,_.download="svg.png",_.click()})},L=(i,r,_,U)=>{const h=document.createElement("canvas");h.width=r,h.height=_;const C=h.getContext("2d"),x=new XMLSerializer().serializeToString(i),j=new Blob([x],{type:"image/svg+xml;charset=utf-8"}),p=URL.createObjectURL(j),g=new Image;g.onload=function(){C.drawImage(g,0,0),URL.revokeObjectURL(p);const v=h.toDataURL("image/png");U(v)},g.src=p},w=()=>{if(e.current!==0)return;const i=document.getElementById("svg"),r=i==null?void 0:i.outerHTML;e.svgDomCode=r||""};return(i,r)=>{const _=c("a-tooltip"),U=c("a-steps"),h=c("a-textarea"),C=c("a-input-number"),x=c("a-form-item"),j=c("a-form"),p=c("a-col"),g=c("a-row"),v=c("a-button"),z=c("a-card");return m(),y(N,null,[(m(),y("div",{key:0,class:B(i.$style.icons)},[t("div",null,[n(_,{title:"svg"},{default:o(()=>[(m(),y("svg",{class:"img",id:"svg",onClick:w},re))]),_:1})]),ce,t("div",null,[n(_,{title:"png"},{default:o(()=>[ie]),_:1})])],2)),n(g,null,{default:o(()=>[n(p,{span:24},{default:o(()=>[n(z,{hoverable:"",title:"例子"},{default:o(()=>[n(U,{current:e.current,items:l,size:"small",style:{"margin-bottom":"1rem"}},null,8,["current"]),t("div",de,[R(t("div",ue,[n(h,{value:e.svgDomCode,"onUpdate:value":r[0]||(r[0]=f=>e.svgDomCode=f),placeholder:"点击左上角的图标,获取示例代码",style:{height:"150px",resize:"none"}},null,8,["value"])],512),[[E,e.current===0]]),R(t("div",pe,[n(j,{"label-col":{span:3}},{default:o(()=>[n(x,{label:"width"},{default:o(()=>[n(C,{value:e.conversion.width,"onUpdate:value":r[1]||(r[1]=f=>e.conversion.width=f),min:0,max:1e3,step:1,style:{width:"100%"}},null,8,["value"])]),_:1}),n(x,{label:"height"},{default:o(()=>[n(C,{value:e.conversion.height,"onUpdate:value":r[2]||(r[2]=f=>e.conversion.height=f),min:0,max:1e3,step:1,style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1})],512),[[E,e.current===1]]),R(t("div",_e,[n(g,{justify:"center",style:{"margin-top":"3rem"}},{default:o(()=>[n(p,null,{default:o(()=>[n(O(Y),{style:{"font-size":"3.5rem",color:"#96ce24"}})]),_:1})]),_:1}),ge,n(g,{gutter:15,justify:"center",style:{"margin-top":"1rem"}},{default:o(()=>[n(p,null,{default:o(()=>[n(v,{type:"primary",onClick:k},{default:o(()=>[u("下载")]),_:1})]),_:1}),n(p,null,{default:o(()=>[n(v,{onClick:S},{default:o(()=>[u("再来一个")]),_:1})]),_:1})]),_:1})],512),[[E,e.current===2]])]),n(g,{gutter:15,justify:"end",style:{"margin-top":"1rem"}},{default:o(()=>[n(p,null,{default:o(()=>[e.current!==0?(m(),M(v,{key:0,onClick:a},{default:o(()=>[u("PREVIOUS")]),_:1})):F("",!0)]),_:1}),n(p,null,{default:o(()=>[e.current<2?(m(),M(v,{key:0,disabled:e.display,type:"primary",onClick:d},{default:o(()=>[u("NEXT")]),_:1},8,["disabled"])):F("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}}),ve="_icons_2ceu5_1",fe={icons:ve},ye={$style:fe},be=$(he,[["__cssModules",ye],["__scopeId","data-v-d9be56b3"]]),T=` /**
     * 把 svg 转换 png
     * @param svgElement
     * @param width
     * @param height
     */
    function convertSvgToPng(svgElement, width, height, callback) {
        const canvas = document.createElement('canvas');
        canvas.width = width;
        canvas.height = height;
        const ctx = canvas.getContext('2d');

        // 将 SVG 转换成 DataURL
        const data = new XMLSerializer().serializeToString(svgElement);
        const svg = new Blob([data], {type: 'image/svg+xml;charset=utf-8'});
        const url = URL.createObjectURL(svg);

        const img = new Image();
        img.onload = function () {
            ctx.drawImage(img, 0, 0);
            URL.revokeObjectURL(url);
            const png = canvas.toDataURL('image/png');
            callback(png);
        };
        img.src = url;
    }

    document.querySelector('#app').addEventListener('click', starts)

    function starts() {
        const svg = document.querySelector('svg');
        convertSvgToPng(svg, 2000, 2000, function (png) {
            const img = document.createElement('img');
            // 缩小
            img.src = png;
            img.style.width = '100px'
            img.style.height = '100px'
            document.body.appendChild(img);
        });
    }`,we=async s=>{const{copy:e}=q();try{return await e(s).then(()=>!0)}catch(l){return console.log(l),!1}},Ce={class:"hy-code"},xe=["innerHTML"],Oe=D({__name:"index",props:{code:{type:String,default:""}},setup(s){const e=X("");J(async()=>{const a=Q("Prismjs");console.log(a),e.value=a.highlight(T,a.languages.javascript,"javascript"),a.highlightAll()});const l=async a=>{await we(a)&&H.success("🎉 复制成功!")};return(a,d)=>{const S=c("a-tooltip"),k=c("a-collapse-panel"),L=c("a-collapse");return m(),y("div",Ce,[n(L,{collapsible:"header"},{expandIcon:o(({isActive:w})=>[n(O(se),{rotate:w?90:0},null,8,["rotate"])]),default:o(()=>[n(k,{key:"1"},{header:o(()=>[u("Code")]),extra:o(()=>[n(S,{title:"copy"},{default:o(()=>[n(O(K),{onClick:d[0]||(d[0]=w=>l(s.code))})]),_:1})]),default:o(()=>[t("pre",null,[u("        "),t("code",null,[u(`
          `),t("div",{innerHTML:e.value},null,8,xe),u(`
        `)]),u(`
      `)])]),_:1})]),_:1})])}}}),Se=$(Oe,[["__scopeId","data-v-94975291"]]),ke=t("h1",{id:"svg下载",tabindex:"-1"},[u("svg下载 "),t("a",{class:"header-anchor",href:"#svg下载","aria-label":'Permalink to "svg下载"'},"​")],-1),Le=t("p",null,"在逛各种站点时. 看到了好看的图标想保存(收藏嗷). 但是发现没有链接的时候 😁",-1),Ue=t("hr",null,null,-1),je=t("p",null,"整理下思路:",-1),Re=t("ul",null,[t("li",null,"通过js获取svg的内容"),t("li",null,"通过canvas转换成png"),t("li",null,"通过a标签下载")],-1),Fe=JSON.parse('{"title":"Hy-工具类","description":"","frontmatter":{"title":"Hy-工具类"},"headers":[],"relativePath":"tool/index.md","filePath":"tool/index.md"}'),Ee={name:"tool/index.md"},Pe=Object.assign(Ee,{setup(s){return(e,l)=>{const a=c("ClientOnly");return m(),y("div",null,[ke,Le,n(a,null,{default:o(()=>[n(be)]),_:1}),Ue,je,Re,n(a,null,{default:o(()=>[n(Se,{code:O(T)},null,8,["code"])]),_:1})])}}});export{Fe as __pageData,Pe as default};
