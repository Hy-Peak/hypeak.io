import{I as n,d as D,a1 as A,z as V,D as c,o as m,c as w,n as B,k as t,w as o,F as N,a2 as j,a3 as E,m as O,a as i,b as F,e as M,p as Z,q as G,_ as $,a4 as q,h as X,N as J}from"./chunks/framework.h3NtCkte.js";import{A as Q,C as W,m as H,a as Y}from"./chunks/index.ATHT0_30.js";const K="/hypeak.io/assets/webstorm.oMCHIk8P.png";var ee={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"};const te=ee;function P(a){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?Object(arguments[e]):{},d=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(s).filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable}))),d.forEach(function(u){ne(a,u,s[u])})}return a}function ne(a,e,s){return e in a?Object.defineProperty(a,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[e]=s,a}var I=function(e,s){var d=P({},e,s.attrs);return n(Q,P({},d,{icon:te}),null)};I.displayName="CaretRightOutlined";I.inheritAttrs=!1;const oe=I,b=a=>(Z("data-v-d736e810"),a=a(),G(),a),se=b(()=>t("use",{"xlink:href":"#webstorm"},null,-1)),ae=b(()=>t("symbol",{id:"webstorm",fill:"none",viewBox:"0 0 70 70",xmlns:"http://www.w3.org/2000/svg"},[t("defs",null,[t("linearGradient",{id:"webstorm_webstorm_svg__a",gradientUnits:"userSpaceOnUse",x1:"25.068",x2:"43.183",y1:"1.46",y2:"66.675"},[t("stop",{offset:".285","stop-color":"#07C3F2"}),t("stop",{offset:".941","stop-color":"#087CFA"})]),t("linearGradient",{id:"webstorm_webstorm_svg__b",gradientUnits:"userSpaceOnUse",x1:"30.72",x2:"61.365",y1:"9.734",y2:"54.671"},[t("stop",{offset:".14","stop-color":"#FCF84A"}),t("stop",{offset:".366","stop-color":"#07C3F2"})]),t("linearGradient",{id:"webstorm_webstorm_svg__c",gradientUnits:"userSpaceOnUse",x1:"61.082",x2:"65.106",y1:"15.29",y2:"29.544"},[t("stop",{offset:".285","stop-color":"#07C3F2"}),t("stop",{offset:".941","stop-color":"#087CFA"})])]),t("path",{d:"M9.406 63.292 0 7.365 17.427.073l11.156 6.635L38.792 1.24l21.291 8.166L48.125 70 9.406 63.292Z",fill:"url(#webstorm_webstorm_svg__a)"}),t("path",{d:"M70 23.698 60.958 1.385 44.552 0 19.25 24.281l6.854 31.354 12.688 8.896L70 46.011l-7.656-14.292L70 23.698Z",fill:"url(#webstorm_webstorm_svg__b)"}),t("path",{d:"m56 20.344 6.344 11.375L70 23.698 64.385 9.844 56 20.344Z",fill:"url(#webstorm_webstorm_svg__c)"}),t("path",{d:"M56 14H14v42h42V14Z",fill:"#000"}),t("path",{d:"M34.417 48.65h-15.75v2.683h15.75V48.65ZM34.16 19.25l-2.38 9.17-2.66-9.17h-2.66l-2.66 9.17-2.38-9.17h-3.64L22.26 35h2.94l2.59-9.1 2.52 9.1h3.01l4.48-15.75h-3.64ZM38.5 32.76l2.03-2.45c1.4 1.19 2.94 1.89 4.69 1.89 1.4 0 2.31-.56 2.31-1.47v-.07c0-.91-.56-1.33-3.15-2.03-3.15-.84-5.25-1.68-5.25-4.83v-.07c0-2.87 2.31-4.76 5.53-4.76 2.31 0 4.27.7 5.88 2.03l-1.82 2.59c-1.4-.98-2.8-1.54-4.13-1.54s-2.03.63-2.03 1.4v.07c0 1.05.7 1.4 3.43 2.1 3.22.84 5.04 1.96 5.04 4.76v.07c0 3.15-2.38 4.9-5.81 4.9-2.45-.07-4.83-.91-6.72-2.59Z",fill:"#FFF"})],-1)),le=[se,ae],re=b(()=>t("div",{style:{"min-width":"100px","text-align":"center"}},"--->",-1)),ce=b(()=>t("img",{alt:"webstorm",src:K},null,-1)),ie={style:{"min-height":"150px"}},de={class:"exhibitArea"},ue={class:"exhibitArea"},pe={class:"exhibitArea"},_e=b(()=>t("div",{class:"successTitle"},"转换成功",-1)),ge="/hypeak.io/tool/assets/img/",me=D({__name:"hyExportSvg",setup(a){console.log(ge);const e=A({current:0,svgDomCode:"",conversion:{height:200,width:200},display:!0,pngUrl:""}),s=[{title:"填写Svg代码"},{title:"设置属性"},{title:"下载"}];V(()=>{e.current===0?e.display=!e.svgDomCode:e.current===1&&(e.display=!e.conversion.height&&!e.conversion.width)});const d=()=>{if(e.current===4){e.current=3;return}e.current--},u=()=>{e.current!==2&&e.current++},f=()=>{e.current=0,e.conversion={height:200,width:200},e.pngUrl="",e.svgDomCode=""},S=()=>{let l;try{l=document.createElementNS("http://www.w3.org/2000/svg","svg"),l.innerHTML=e.svgDomCode.replace(/<svg[^>]*>/,"").replace(/<\/svg>/,"")}catch{H.error("svg代码有误");return}k(l,e.conversion.width,e.conversion.height,r=>{e.pngUrl=r;const _=document.createElement("a");_.href=r,_.download="svg.png",_.click()})},k=(l,r,_,U)=>{const h=document.createElement("canvas");h.width=r,h.height=_;const x=h.getContext("2d"),C=new XMLSerializer().serializeToString(l),R=new Blob([C],{type:"image/svg+xml;charset=utf-8"}),p=URL.createObjectURL(R),g=new Image;g.onload=function(){x.drawImage(g,0,0),URL.revokeObjectURL(p);const v=h.toDataURL("image/png");U(v)},g.src=p},L=()=>{if(e.current!==0)return;const l=document.getElementById("svg"),r=l==null?void 0:l.outerHTML;e.svgDomCode=r||""};return(l,r)=>{const _=c("a-tooltip"),U=c("a-steps"),h=c("a-textarea"),x=c("a-input-number"),C=c("a-form-item"),R=c("a-form"),p=c("a-col"),g=c("a-row"),v=c("a-button"),z=c("a-card");return m(),w(N,null,[(m(),w("div",{key:0,class:B(l.$style.icons)},[t("div",null,[n(_,{title:"svg"},{default:o(()=>[(m(),w("svg",{id:"svg",onClick:L},le))]),_:1})]),re,t("div",null,[n(_,{title:"png"},{default:o(()=>[ce]),_:1})])],2)),n(g,null,{default:o(()=>[n(p,{span:24},{default:o(()=>[n(z,{hoverable:"",title:"例子"},{default:o(()=>[n(U,{current:e.current,items:s,size:"small",style:{"margin-bottom":"1rem"}},null,8,["current"]),t("div",ie,[j(t("div",de,[n(h,{value:e.svgDomCode,"onUpdate:value":r[0]||(r[0]=y=>e.svgDomCode=y),placeholder:"点击左上角的图标,获取示例代码",style:{height:"150px",resize:"none"}},null,8,["value"])],512),[[E,e.current===0]]),j(t("div",ue,[n(R,{"label-col":{span:3}},{default:o(()=>[n(C,{label:"width"},{default:o(()=>[n(x,{value:e.conversion.width,"onUpdate:value":r[1]||(r[1]=y=>e.conversion.width=y),min:0,max:1e3,step:1,style:{width:"100%"}},null,8,["value"])]),_:1}),n(C,{label:"height"},{default:o(()=>[n(x,{value:e.conversion.height,"onUpdate:value":r[2]||(r[2]=y=>e.conversion.height=y),min:0,max:1e3,step:1,style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1})],512),[[E,e.current===1]]),j(t("div",pe,[n(g,{justify:"center",style:{"margin-top":"3rem"}},{default:o(()=>[n(p,null,{default:o(()=>[n(O(W),{style:{"font-size":"3.5rem",color:"#96ce24"}})]),_:1})]),_:1}),_e,n(g,{gutter:15,justify:"center",style:{"margin-top":"1rem"}},{default:o(()=>[n(p,null,{default:o(()=>[n(v,{type:"primary",onClick:S},{default:o(()=>[i("下载")]),_:1})]),_:1}),n(p,null,{default:o(()=>[n(v,{onClick:f},{default:o(()=>[i("再来一个")]),_:1})]),_:1})]),_:1})],512),[[E,e.current===2]])]),n(g,{gutter:15,justify:"end",style:{"margin-top":"1rem"}},{default:o(()=>[n(p,null,{default:o(()=>[e.current!==0?(m(),F(v,{key:0,onClick:d},{default:o(()=>[i("PREVIOUS")]),_:1})):M("",!0)]),_:1}),n(p,null,{default:o(()=>[e.current<2?(m(),F(v,{key:0,disabled:e.display,type:"primary",onClick:u},{default:o(()=>[i("NEXT")]),_:1},8,["disabled"])):M("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}}),he="_icons_2ceu5_1",ve={icons:he},fe={$style:ve},ye=$(me,[["__cssModules",fe],["__scopeId","data-v-d736e810"]]),T=` /**
     * 把 svg 转换 png
     * @param svgElement
     * @param width
     * @param height
     */
    function convertSvgToPng(svgElement, width, height, callback) {
        const canvas = document.createElement('canvas');
        canvas.width = width;
        canvas.height = height;
        const ctx = canvas.getContext('2d');

        // 将 SVG 转换成 DataURL
        const data = new XMLSerializer().serializeToString(svgElement);
        const svg = new Blob([data], {type: 'image/svg+xml;charset=utf-8'});
        const url = URL.createObjectURL(svg);

        const img = new Image();
        img.onload = function () {
            ctx.drawImage(img, 0, 0);
            URL.revokeObjectURL(url);
            const png = canvas.toDataURL('image/png');
            callback(png);
        };
        img.src = url;
    }

    document.querySelector('#app').addEventListener('click', starts)

    function starts() {
        const svg = document.querySelector('svg');
        convertSvgToPng(svg, 2000, 2000, function (png) {
            const img = document.createElement('img');
            // 缩小
            img.src = png;
            img.style.width = '100px'
            img.style.height = '100px'
            document.body.appendChild(img);
        });
    }`,we=async a=>{const{copy:e}=q();try{return await e(a).then(()=>!0)}catch(s){return console.log(s),!1}},be={class:"hy-code"},xe=["innerHTML"],Ce=D({__name:"index",props:{code:{type:String,default:""}},setup(a){const e=X(""),s=J("Prismjs");console.log(s),e.value=s.highlight(T,s.languages.javascript,"javascript"),s.highlightAll();const d=async u=>{await we(u)&&H.success("🎉 复制成功!")};return(u,f)=>{const S=c("a-tooltip"),k=c("a-collapse-panel"),L=c("a-collapse");return m(),w("div",be,[n(L,{collapsible:"header"},{expandIcon:o(({isActive:l})=>[n(O(oe),{rotate:l?90:0},null,8,["rotate"])]),default:o(()=>[n(k,{key:"1"},{header:o(()=>[i("Code")]),extra:o(()=>[n(S,{title:"copy"},{default:o(()=>[n(O(Y),{onClick:f[0]||(f[0]=l=>d(a.code))})]),_:1})]),default:o(()=>[t("pre",null,[i("        "),t("code",null,[i(`
          `),t("div",{innerHTML:e.value},null,8,xe),i(`
        `)]),i(`
      `)])]),_:1})]),_:1})])}}}),Oe=$(Ce,[["__scopeId","data-v-98611555"]]),Se=t("h1",{id:"svg下载",tabindex:"-1"},[i("svg下载 "),t("a",{class:"header-anchor",href:"#svg下载","aria-label":'Permalink to "svg下载"'},"​")],-1),ke=t("p",null,"在逛各种站点时. 看到了好看的图标想保存(收藏嗷). 但是发现没有链接的时候 😁",-1),Le=t("hr",null,null,-1),Ue=t("p",null,"整理下思路:",-1),Re=t("ul",null,[t("li",null,"通过js获取svg的内容"),t("li",null,"通过canvas转换成png"),t("li",null,"通过a标签下载")],-1),Fe=JSON.parse('{"title":"Hy-工具类","description":"","frontmatter":{"title":"Hy-工具类"},"headers":[],"relativePath":"tool/index.md","filePath":"tool/index.md"}'),je={name:"tool/index.md"},Me=Object.assign(je,{setup(a){return(e,s)=>(m(),w("div",null,[Se,ke,n(ye),Le,Ue,Re,n(Oe,{code:O(T)},null,8,["code"])]))}});export{Fe as __pageData,Me as default};
