import{d as D,a as P,k as V,ab as a,U as p,V as y,X as z,a5 as t,c as n,Z as o,m as M,A as I,u as k,G as r,Y as O,_ as j,F as A,a6 as B,a7 as Z,$ as R,as as N,r as G,o as X,i as q}from"./chunks/framework.6ZagZwNk.js";import{m as $,C as J,a as Y,b as K}from"./chunks/theme.aS3PtGFs.js";const Q="/hypeak.io/assets/webstorm.oMCHIk8P.png",w=i=>(B("data-v-d9be56b3"),i=i(),Z(),i),W=w(()=>t("use",{"xlink:href":"#webstorm"},null,-1)),ee=w(()=>t("symbol",{id:"webstorm",fill:"none",viewBox:"0 0 70 70",xmlns:"http://www.w3.org/2000/svg"},[t("defs",null,[t("linearGradient",{id:"webstorm_webstorm_svg__a",gradientUnits:"userSpaceOnUse",x1:"25.068",x2:"43.183",y1:"1.46",y2:"66.675"},[t("stop",{offset:".285","stop-color":"#07C3F2"}),t("stop",{offset:".941","stop-color":"#087CFA"})]),t("linearGradient",{id:"webstorm_webstorm_svg__b",gradientUnits:"userSpaceOnUse",x1:"30.72",x2:"61.365",y1:"9.734",y2:"54.671"},[t("stop",{offset:".14","stop-color":"#FCF84A"}),t("stop",{offset:".366","stop-color":"#07C3F2"})]),t("linearGradient",{id:"webstorm_webstorm_svg__c",gradientUnits:"userSpaceOnUse",x1:"61.082",x2:"65.106",y1:"15.29",y2:"29.544"},[t("stop",{offset:".285","stop-color":"#07C3F2"}),t("stop",{offset:".941","stop-color":"#087CFA"})])]),t("path",{d:"M9.406 63.292 0 7.365 17.427.073l11.156 6.635L38.792 1.24l21.291 8.166L48.125 70 9.406 63.292Z",fill:"url(#webstorm_webstorm_svg__a)"}),t("path",{d:"M70 23.698 60.958 1.385 44.552 0 19.25 24.281l6.854 31.354 12.688 8.896L70 46.011l-7.656-14.292L70 23.698Z",fill:"url(#webstorm_webstorm_svg__b)"}),t("path",{d:"m56 20.344 6.344 11.375L70 23.698 64.385 9.844 56 20.344Z",fill:"url(#webstorm_webstorm_svg__c)"}),t("path",{d:"M56 14H14v42h42V14Z",fill:"#000"}),t("path",{d:"M34.417 48.65h-15.75v2.683h15.75V48.65ZM34.16 19.25l-2.38 9.17-2.66-9.17h-2.66l-2.66 9.17-2.38-9.17h-3.64L22.26 35h2.94l2.59-9.1 2.52 9.1h3.01l4.48-15.75h-3.64ZM38.5 32.76l2.03-2.45c1.4 1.19 2.94 1.89 4.69 1.89 1.4 0 2.31-.56 2.31-1.47v-.07c0-.91-.56-1.33-3.15-2.03-3.15-.84-5.25-1.68-5.25-4.83v-.07c0-2.87 2.31-4.76 5.53-4.76 2.31 0 4.27.7 5.88 2.03l-1.82 2.59c-1.4-.98-2.8-1.54-4.13-1.54s-2.03.63-2.03 1.4v.07c0 1.05.7 1.4 3.43 2.1 3.22.84 5.04 1.96 5.04 4.76v.07c0 3.15-2.38 4.9-5.81 4.9-2.45-.07-4.83-.91-6.72-2.59Z",fill:"#FFF"})],-1)),te=[W,ee],ne=w(()=>t("div",{style:{"min-width":"100px","text-align":"center"}},"--->",-1)),oe=w(()=>t("img",{class:"img",alt:"webstorm",src:Q},null,-1)),se={style:{"min-height":"150px"}},ae={class:"exhibitArea"},le={class:"exhibitArea"},ce={class:"exhibitArea"},re=w(()=>t("div",{class:"successTitle"},"转换成功",-1)),ie="/hypeak.io/tool/assets/img/",de=D({__name:"hyExportSvg",setup(i){console.log(ie);const e=P({current:0,svgDomCode:"",conversion:{height:200,width:200},display:!0,pngUrl:""}),m=[{title:"填写Svg代码"},{title:"设置属性"},{title:"下载"}];V(()=>{e.current===0?e.display=!e.svgDomCode:e.current===1&&(e.display=!e.conversion.height&&!e.conversion.width)});const l=()=>{if(e.current===4){e.current=3;return}e.current--},h=()=>{e.current!==2&&e.current++},U=()=>{e.current=0,e.conversion={height:200,width:200},e.pngUrl="",e.svgDomCode=""},L=()=>{let c;try{c=document.createElementNS("http://www.w3.org/2000/svg","svg"),c.innerHTML=e.svgDomCode.replace(/<svg[^>]*>/,"").replace(/<\/svg>/,"")}catch{$.error("svg代码有误");return}S(c,e.conversion.width,e.conversion.height,s=>{e.pngUrl=s;const u=document.createElement("a");u.href=s,u.download="svg.png",u.click()})},S=(c,s,u,E)=>{const g=document.createElement("canvas");g.width=s,g.height=u;const x=g.getContext("2d"),C=new XMLSerializer().serializeToString(c),F=new Blob([C],{type:"image/svg+xml;charset=utf-8"}),d=URL.createObjectURL(F),_=new Image;_.onload=function(){x.drawImage(_,0,0),URL.revokeObjectURL(d);const v=g.toDataURL("image/png");E(v)},_.src=d},b=()=>{if(e.current!==0)return;const c=document.getElementById("svg"),s=c==null?void 0:c.outerHTML;e.svgDomCode=s||""};return(c,s)=>{const u=a("a-tooltip"),E=a("a-steps"),g=a("a-textarea"),x=a("a-input-number"),C=a("a-form-item"),F=a("a-form"),d=a("a-col"),_=a("a-row"),v=a("a-button"),T=a("a-card");return p(),y(A,null,[(p(),y("div",{key:0,class:z(c.$style.icons)},[t("div",null,[n(u,{title:"svg"},{default:o(()=>[(p(),y("svg",{class:"img",id:"svg",onClick:b},te))]),_:1})]),ne,t("div",null,[n(u,{title:"png"},{default:o(()=>[oe]),_:1})])],2)),n(_,null,{default:o(()=>[n(d,{span:24},{default:o(()=>[n(T,{hoverable:"",title:"例子"},{default:o(()=>[n(E,{current:e.current,items:m,size:"small",style:{"margin-bottom":"1rem"}},null,8,["current"]),t("div",se,[M(t("div",ae,[n(g,{value:e.svgDomCode,"onUpdate:value":s[0]||(s[0]=f=>e.svgDomCode=f),placeholder:"点击左上角的图标,获取示例代码",style:{height:"150px",resize:"none"}},null,8,["value"])],512),[[I,e.current===0]]),M(t("div",le,[n(F,{"label-col":{span:3}},{default:o(()=>[n(C,{label:"width"},{default:o(()=>[n(x,{value:e.conversion.width,"onUpdate:value":s[1]||(s[1]=f=>e.conversion.width=f),min:0,max:1e3,step:1,style:{width:"100%"}},null,8,["value"])]),_:1}),n(C,{label:"height"},{default:o(()=>[n(x,{value:e.conversion.height,"onUpdate:value":s[2]||(s[2]=f=>e.conversion.height=f),min:0,max:1e3,step:1,style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1})],512),[[I,e.current===1]]),M(t("div",ce,[n(_,{justify:"center",style:{"margin-top":"3rem"}},{default:o(()=>[n(d,null,{default:o(()=>[n(k(J),{style:{"font-size":"3.5rem",color:"#96ce24"}})]),_:1})]),_:1}),re,n(_,{gutter:15,justify:"center",style:{"margin-top":"1rem"}},{default:o(()=>[n(d,null,{default:o(()=>[n(v,{type:"primary",onClick:L},{default:o(()=>[r("下载")]),_:1})]),_:1}),n(d,null,{default:o(()=>[n(v,{onClick:U},{default:o(()=>[r("再来一个")]),_:1})]),_:1})]),_:1})],512),[[I,e.current===2]])]),n(_,{gutter:15,justify:"end",style:{"margin-top":"1rem"}},{default:o(()=>[n(d,null,{default:o(()=>[e.current!==0?(p(),O(v,{key:0,onClick:l},{default:o(()=>[r("PREVIOUS")]),_:1})):j("",!0)]),_:1}),n(d,null,{default:o(()=>[e.current<2?(p(),O(v,{key:0,disabled:e.display,type:"primary",onClick:h},{default:o(()=>[r("NEXT")]),_:1},8,["disabled"])):j("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}}),ue="_icons_2ceu5_1",_e={icons:ue},pe={$style:_e},me=R(de,[["__cssModules",pe],["__scopeId","data-v-d9be56b3"]]),H=` /**
     * 把 svg 转换 png
     * @param svgElement
     * @param width
     * @param height
     */
    function convertSvgToPng(svgElement, width, height, callback) {
        const canvas = document.createElement('canvas');
        canvas.width = width;
        canvas.height = height;
        const ctx = canvas.getContext('2d');

        // 将 SVG 转换成 DataURL
        const data = new XMLSerializer().serializeToString(svgElement);
        const svg = new Blob([data], {type: 'image/svg+xml;charset=utf-8'});
        const url = URL.createObjectURL(svg);

        const img = new Image();
        img.onload = function () {
            ctx.drawImage(img, 0, 0);
            URL.revokeObjectURL(url);
            const png = canvas.toDataURL('image/png');
            callback(png);
        };
        img.src = url;
    }

    document.querySelector('#app').addEventListener('click', starts)

    function starts() {
        const svg = document.querySelector('svg');
        convertSvgToPng(svg, 2000, 2000, function (png) {
            const img = document.createElement('img');
            // 缩小
            img.src = png;
            img.style.width = '100px'
            img.style.height = '100px'
            document.body.appendChild(img);
        });
    }`,ge=async i=>{const{copy:e}=N();try{return await e(i).then(()=>!0)}catch(m){return console.log(m),!1}},ve={class:"hy-code"},he=["innerHTML"],fe=D({__name:"index",props:{code:{type:String,default:""}},setup(i){const e=G("");X(async()=>{const l=q("Prismjs");console.log(l),e.value=l.highlight(H,l.languages.javascript,"javascript"),l.highlightAll()});const m=async l=>{await ge(l)&&$.success("🎉 复制成功!")};return(l,h)=>{const U=a("a-tooltip"),L=a("a-collapse-panel"),S=a("a-collapse");return p(),y("div",ve,[n(S,{collapsible:"header"},{expandIcon:o(({isActive:b})=>[n(k(Y),{rotate:b?90:0},null,8,["rotate"])]),default:o(()=>[n(L,{key:"1"},{header:o(()=>[r("Code")]),extra:o(()=>[n(U,{title:"copy"},{default:o(()=>[n(k(K),{onClick:h[0]||(h[0]=b=>m(i.code))})]),_:1})]),default:o(()=>[t("pre",null,[r("        "),t("code",null,[r(`
          `),t("div",{innerHTML:e.value},null,8,he),r(`
        `)]),r(`
      `)])]),_:1})]),_:1})])}}}),ye=R(fe,[["__scopeId","data-v-94975291"]]),we=t("h1",{id:"svg下载",tabindex:"-1"},[r("svg下载 "),t("a",{class:"header-anchor",href:"#svg下载","aria-label":'Permalink to "svg下载"'},"​")],-1),be=t("p",null,"在逛各种站点时. 看到了好看的图标想保存(收藏嗷). 但是发现没有链接的时候 😁",-1),xe=t("hr",null,null,-1),Ce=t("p",null,"整理下思路:",-1),ke=t("ul",null,[t("li",null,"通过js获取svg的内容"),t("li",null,"通过canvas转换成png"),t("li",null,"通过a标签下载")],-1),Ee=JSON.parse('{"title":"Hy-工具类","description":"","frontmatter":{"title":"Hy-工具类"},"headers":[],"relativePath":"tool/index.md","filePath":"tool/index.md"}'),Ue={name:"tool/index.md"},Fe=Object.assign(Ue,{setup(i){return(e,m)=>{const l=a("ClientOnly");return p(),y("div",null,[we,be,n(l,null,{default:o(()=>[n(me)]),_:1}),xe,Ce,ke,n(l,null,{default:o(()=>[n(ye,{code:k(H)},null,8,["code"])]),_:1})])}}});export{Ee as __pageData,Fe as default};
